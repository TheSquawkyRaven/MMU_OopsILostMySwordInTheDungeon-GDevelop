{
  "associatedLayout": "Game Scene",
  "lastChangeTimeStamp": 0,
  "name": "Traps",
  "events": [
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [
        {
          "type": {
            "value": "ModVarScene"
          },
          "parameters": [
            "TrapIndex",
            "=",
            "1"
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "TileHighlight",
                "-16",
                "-16",
                "\"CamHUD\""
              ]
            },
            {
              "type": {
                "value": "ChangePlan"
              },
              "parameters": [
                "TileHighlight",
                "=",
                "100"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Q or E, Scroll All Traps",
      "comment2": ""
    },
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "q"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjetTxt"
                  },
                  "parameters": [
                    "Buttons",
                    "Identifier",
                    "=",
                    "\"ScrollTrapsLeft\""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ChangeAnimation"
                      },
                      "parameters": [
                        "Buttons",
                        "=",
                        "3"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Buttons",
                        "HeldDownByKey",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "Current",
                        "-",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "Current",
                        "<",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "Current",
                        "=",
                        "HUDTraps.Variable(Count) - 1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ChangeAnimation"
                      },
                      "parameters": [
                        "HUDTraps",
                        "=",
                        "HUDTraps.Variable(Current)"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "e"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjetTxt"
                  },
                  "parameters": [
                    "Buttons",
                    "Identifier",
                    "=",
                    "\"ScrollTrapsRight\""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ChangeAnimation"
                      },
                      "parameters": [
                        "Buttons",
                        "=",
                        "3"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Buttons",
                        "HeldDownByKey",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "Current",
                        "+",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "Current",
                        ">=",
                        "HUDTraps.Variable(Count)"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "Current",
                        "=",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ChangeAnimation"
                      },
                      "parameters": [
                        "HUDTraps",
                        "=",
                        "HUDTraps.Variable(Current)"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "q"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjetTxt"
                  },
                  "parameters": [
                    "Buttons",
                    "Identifier",
                    "=",
                    "\"ScrollTrapsLeft\""
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Buttons",
                    "HeldDownByKey",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Buttons",
                    "HeldDownByKey",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "Buttons",
                    "id",
                    "!=",
                    "Variable(ButtonID)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ChangeAnimation"
                  },
                  "parameters": [
                    "Buttons",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyReleased"
              },
              "parameters": [
                "",
                "e"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjetTxt"
                  },
                  "parameters": [
                    "Buttons",
                    "Identifier",
                    "=",
                    "\"ScrollTrapsRight\""
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Buttons",
                    "HeldDownByKey",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Buttons",
                    "HeldDownByKey",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "Buttons",
                    "id",
                    "!=",
                    "Variable(ButtonID)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ChangeAnimation"
                  },
                  "parameters": [
                    "Buttons",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Mouse Aim Tile",
      "comment2": ""
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "angle",
                "=",
                "AngleBetweenPositions(Player.X() + 8, Player.Y() + 8, MouseX(\"Characters\"), MouseY(\"Characters\")) + 180"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "angle",
                    ">=",
                    "45"
                  ]
                },
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "angle",
                    "<",
                    "135"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "x",
                    "=",
                    "Player.Variable(Pos.x)"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "y",
                    "=",
                    "Player.Variable(Pos.y) - 1"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.x",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.y",
                    "=",
                    "-1"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "angle",
                    ">=",
                    "135"
                  ]
                },
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "angle",
                    "<",
                    "225"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "x",
                    "=",
                    "Player.Variable(Pos.x) + 1"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "y",
                    "=",
                    "Player.Variable(Pos.y)"
                  ]
                },
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "TileHighlight",
                    "Left",
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.x",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.y",
                    "=",
                    "0"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "angle",
                    ">=",
                    "225"
                  ]
                },
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "angle",
                    "<",
                    "315"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "x",
                    "=",
                    "Player.Variable(Pos.x)"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "y",
                    "=",
                    "Player.Variable(Pos.y) + 1"
                  ]
                },
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "TileHighlight",
                    "Up",
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.x",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.y",
                    "=",
                    "1"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "angle",
                        ">=",
                        "315"
                      ]
                    },
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "angle",
                        "<",
                        "45"
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "x",
                    "=",
                    "Player.Variable(Pos.x) - 1"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "y",
                    "=",
                    "Player.Variable(Pos.y)"
                  ]
                },
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "TileHighlight",
                    "Left",
                    "True"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.x",
                    "=",
                    "-1"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "TileHighlight",
                    "PointDirection.y",
                    "=",
                    "0"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "TileHighlight",
                    "=",
                    "Variable(x) * Variable(tileSize)",
                    "=",
                    "Variable(y) * Variable(tileSize)"
                  ]
                },
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "ifelse",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "angle",
                    "=",
                    "AngleBetweenPositions(0, 0, TileHighlight.Variable(PointDirection.x), TileHighlight.Variable(PointDirection.y)) - 90"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SceneVariableAsBoolean"
                      },
                      "parameters": [
                        "ifelse",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].trap",
                        ">",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ChangeAnimation"
                      },
                      "parameters": [
                        "TileHighlight",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "TileHighlight",
                        "CanPickupTrap",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "TileHighlight",
                        "CanLayTrap",
                        "False"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "TileHighlight",
                        "Valid",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetSceneVariableAsBoolean"
                      },
                      "parameters": [
                        "ifelse",
                        "True"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "PosX"
                          },
                          "parameters": [
                            "Traps",
                            "=",
                            "Variable(x) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "PosY"
                          },
                          "parameters": [
                            "Traps",
                            "=",
                            "Variable(y) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "Traps",
                            "Fired",
                            "True"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ChangeAnimation"
                          },
                          "parameters": [
                            "TileHighlight",
                            "=",
                            "2"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "TileHighlight",
                            "CanPickupTrap",
                            "False"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "TileHighlight",
                            "CanLayTrap",
                            "False"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "TileHighlight",
                            "Valid",
                            "False"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "HUDTraps",
                            "Current",
                            "=",
                            "0"
                          ]
                        }
                      ],
                      "actions": []
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "HUDTraps",
                            "Current",
                            "=",
                            "1"
                          ]
                        }
                      ],
                      "actions": []
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SceneVariableAsBoolean"
                      },
                      "parameters": [
                        "ifelse",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Position::TileCanMoveTo"
                      },
                      "parameters": [
                        "",
                        "Variable(x)",
                        "Variable(y)",
                        ""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "HUDTraps",
                            "Current",
                            "=",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ChangeAnimation"
                          },
                          "parameters": [
                            "TileHighlight",
                            "=",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "TileHighlight",
                            "CanPickupTrap",
                            "False"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "TileHighlight",
                            "CanLayTrap",
                            "True"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "TileHighlight",
                            "Valid",
                            "True"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetSceneVariableAsBoolean"
                          },
                          "parameters": [
                            "ifelse",
                            "True"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "HUDTraps",
                            "Current",
                            "=",
                            "1"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetSceneVariableAsBoolean"
                          },
                          "parameters": [
                            "ifelse2",
                            ""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.x",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.y",
                                "=",
                                "-1"
                              ]
                            },
                            {
                              "type": {
                                "value": "SceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                ""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetSceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                "True"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "VarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x)][Variable(y) - 1].type",
                                    "!=",
                                    "1"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "ChangeAnimation"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "=",
                                    "1"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanPickupTrap",
                                    "False"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanLayTrap",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "Valid",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetSceneVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "ifelse",
                                    "True"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.x",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.y",
                                "=",
                                "1"
                              ]
                            },
                            {
                              "type": {
                                "value": "SceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                ""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetSceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                "True"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "VarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x)][Variable(y) + 1].type",
                                    "!=",
                                    "1"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "ChangeAnimation"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "=",
                                    "1"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanPickupTrap",
                                    "False"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanLayTrap",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "Valid",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetSceneVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "ifelse",
                                    "True"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.x",
                                "=",
                                "-1"
                              ]
                            },
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.y",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                ""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetSceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                "True"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "VarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x) - 1][Variable(y)].type",
                                    "!=",
                                    "1"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "ChangeAnimation"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "=",
                                    "1"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanPickupTrap",
                                    "False"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanLayTrap",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "Valid",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetSceneVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "ifelse",
                                    "True"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.x",
                                "=",
                                "1"
                              ]
                            },
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "TileHighlight",
                                "PointDirection.y",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                ""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetSceneVariableAsBoolean"
                              },
                              "parameters": [
                                "ifelse2",
                                "True"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "VarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x) + 1][Variable(y)].type",
                                    "!=",
                                    "1"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "ChangeAnimation"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "=",
                                    "1"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanPickupTrap",
                                    "False"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "CanLayTrap",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "TileHighlight",
                                    "Valid",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SetSceneVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "ifelse",
                                    "True"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SceneVariableAsBoolean"
                      },
                      "parameters": [
                        "ifelse",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ChangeAnimation"
                      },
                      "parameters": [
                        "TileHighlight",
                        "=",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "TileHighlight",
                        "CanPickupTrap",
                        "False"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "TileHighlight",
                        "CanLayTrap",
                        "False"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "TileHighlight",
                        "Valid",
                        "False"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetSceneVariableAsBoolean"
                      },
                      "parameters": [
                        "ifelse",
                        "True"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Place Trap, F",
      "comment2": ""
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "KeyPressed"
          },
          "parameters": [
            "",
            "f"
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        },
        {
          "type": {
            "value": "SceneVariableAsBoolean"
          },
          "parameters": [
            "CanMove",
            "True"
          ]
        },
        {
          "type": {
            "value": "SceneVariableAsBoolean"
          },
          "parameters": [
            "DoMove",
            ""
          ]
        },
        {
          "type": {
            "value": "SceneVariableAsBoolean"
          },
          "parameters": [
            "TurnSystemWaiting",
            "False"
          ]
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Lay Traps",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "TileHighlight",
                "CanLayTrap",
                "True"
              ]
            },
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "TileHighlight",
                "Valid",
                "True"
              ]
            },
            {
              "type": {
                "value": "VarScene"
              },
              "parameters": [
                "Map[Variable(x)][Variable(y)].trap",
                "=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "TrapInteracted",
                "False"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Bear Traps",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "HUDTraps",
                    "Current",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "HUDTraps",
                    "BearTraps",
                    ">",
                    "0"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "BearTrap",
                        "TileHighlight.X()",
                        "TileHighlight.Y()",
                        "\"Traps\""
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].trap",
                        "=",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "BearTrap",
                        "TrapIndex",
                        "=",
                        "Variable(TrapIndex)"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "TrapIndex",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "BearTraps",
                        "-",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetSceneVariableAsBoolean"
                      },
                      "parameters": [
                        "TrapInteracted",
                        "True"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PlaySound"
                          },
                          "parameters": [
                            "",
                            "Assets\\Audio\\layingbear.mp3",
                            "",
                            "100",
                            "RandomFloatInRange(0.9, 1.1)"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Arrow Traps",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "HUDTraps",
                    "Current",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "HUDTraps",
                    "ArrowTraps",
                    ">",
                    "0"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].arrowTraps",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].arrowTraps",
                        "=",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "ArrowTrap",
                        "TileHighlight.X()",
                        "TileHighlight.Y()",
                        "\"Traps\""
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].trap",
                        "=",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].arrowTrapRef[Variable(Map[Variable(x)][Variable(y)].arrowTraps)]",
                        "=",
                        "Variable(TrapIndex)"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].arrowTraps",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "ArrowTrap",
                        "TrapIndex",
                        "=",
                        "Variable(TrapIndex)"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "TrapIndex",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "ArrowTraps",
                        "-",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetSceneVariableAsBoolean"
                      },
                      "parameters": [
                        "TrapInteracted",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetAngle"
                      },
                      "parameters": [
                        "ArrowTrap",
                        "=",
                        "Variable(angle)"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "ArrowTrap",
                        "PointDirection.x",
                        "=",
                        "-TileHighlight.Variable(PointDirection.x)"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "ArrowTrap",
                        "PointDirection.y",
                        "=",
                        "-TileHighlight.Variable(PointDirection.y)"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "i",
                            "=",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "xi",
                            "=",
                            "ArrowTrap.Variable(PointDirection.x) * Variable(i)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "yi",
                            "=",
                            "ArrowTrap.Variable(PointDirection.y) * Variable(i)"
                          ]
                        }
                      ]
                    },
                    {
                      "infiniteLoopWarning": true,
                      "type": "BuiltinCommonInstructions::While",
                      "whileConditions": [
                        {
                          "type": {
                            "value": "VarScene"
                          },
                          "parameters": [
                            "i",
                            "<=",
                            "ArrowTrap.Variable(DetectionRange)"
                          ]
                        },
                        {
                          "type": {
                            "value": "VarScene"
                          },
                          "parameters": [
                            "Map[Variable(x) + Variable(xi)][Variable(y) + Variable(yi)].type",
                            "=",
                            "1"
                          ]
                        }
                      ],
                      "conditions": [],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "ModVarScene"
                              },
                              "parameters": [
                                "xi",
                                "=",
                                "ArrowTrap.Variable(PointDirection.x) * Variable(i)"
                              ]
                            },
                            {
                              "type": {
                                "value": "ModVarScene"
                              },
                              "parameters": [
                                "yi",
                                "=",
                                "ArrowTrap.Variable(PointDirection.y) * Variable(i)"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "VarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x) + Variable(xi)][Variable(y) + Variable(yi)].arrowTraps",
                                    "=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "ModVarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x) + Variable(xi)][Variable(y) + Variable(yi)].arrowTraps",
                                    "=",
                                    "0"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "value": "ModVarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x) + Variable(xi)][Variable(y) + Variable(yi)].arrowTrapRef[Variable(Map[Variable(x) + Variable(xi)][Variable(y) + Variable(yi)].arrowTraps)]",
                                    "=",
                                    "ArrowTrap.Variable(TrapIndex)"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "ModVarScene"
                                  },
                                  "parameters": [
                                    "Map[Variable(x) + Variable(xi)][Variable(y) + Variable(yi)].arrowTraps",
                                    "+",
                                    "1"
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "ModVarScene"
                              },
                              "parameters": [
                                "i",
                                "+",
                                "1"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarScene"
                          },
                          "parameters": [
                            "Map[Variable(x) + Variable(xi)][Variable(y) + Variable(yi)].type",
                            "!=",
                            "1"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "i",
                            "-",
                            "1"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "i",
                            "-",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "xi",
                            "=",
                            "ArrowTrap.Variable(PointDirection.x) * Variable(i)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "yi",
                            "=",
                            "ArrowTrap.Variable(PointDirection.y) * Variable(i)"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "LineIndex",
                            "+",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "ArrowTrap",
                            "LineIndex",
                            "=",
                            "Variable(LineIndex)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].Thickness",
                            "=",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].Enable",
                            "True"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "ArrowTrap",
                            "PointDirection.x",
                            "<",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x1",
                            "=",
                            "Variable(x) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y1",
                            "=",
                            "Variable(y) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x2",
                            "=",
                            "(Variable(x) + Variable(xi)) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y2",
                            "=",
                            "(Variable(y) + Variable(yi)) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "ArrowTrap",
                            "PointDirection.x",
                            ">",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x1",
                            "=",
                            "(Variable(x) + 1) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y1",
                            "=",
                            "Variable(y) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x2",
                            "=",
                            "(Variable(x) + 1 + Variable(xi)) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y2",
                            "=",
                            "(Variable(y) + Variable(yi)) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "ArrowTrap",
                            "PointDirection.y",
                            ">",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x1",
                            "=",
                            "Variable(x) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y1",
                            "=",
                            "(Variable(y) + 1) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x2",
                            "=",
                            "(Variable(x) + Variable(xi)) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y2",
                            "=",
                            "(Variable(y) + 1 + Variable(yi)) * Variable(tileSize)"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "ArrowTrap",
                            "PointDirection.y",
                            "<",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x1",
                            "=",
                            "Variable(x) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y1",
                            "=",
                            "Variable(y) * Variable(tileSize)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].x2",
                            "=",
                            "(Variable(x) + Variable(xi)) * Variable(tileSize) + Variable(tileSize) / 2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "TrapDetectionLines",
                            "Lines[Variable(LineIndex)].y2",
                            "=",
                            "(Variable(y) + Variable(yi)) * Variable(tileSize)"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PlaySound"
                          },
                          "parameters": [
                            "",
                            "Assets\\Audio\\deployingarrow.mp3",
                            "",
                            "100",
                            "RandomFloatInRange(0.9, 1.1)"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "TrapInteracted",
                    "True"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Link",
                  "include": {
                    "includeConfig": 0
                  },
                  "target": "Player Trigger TBS"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Pickup Trap, F",
      "comment2": ""
    },
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "KeyPressed"
          },
          "parameters": [
            "",
            "f"
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        },
        {
          "type": {
            "value": "SceneVariableAsBoolean"
          },
          "parameters": [
            "CanMove",
            "True"
          ]
        },
        {
          "type": {
            "value": "SceneVariableAsBoolean"
          },
          "parameters": [
            "DoMove",
            ""
          ]
        },
        {
          "type": {
            "value": "SceneVariableAsBoolean"
          },
          "parameters": [
            "TurnSystemWaiting",
            "False"
          ]
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Pickup Traps",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "TileHighlight",
                "CanPickupTrap",
                "True"
              ]
            },
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "TileHighlight",
                "Valid",
                "True"
              ]
            },
            {
              "type": {
                "value": "VarScene"
              },
              "parameters": [
                "Map[Variable(x)][Variable(y)].trap",
                ">",
                "0"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "PosX"
                  },
                  "parameters": [
                    "Traps",
                    "=",
                    "Variable(x) * Variable(tileSize)"
                  ]
                },
                {
                  "type": {
                    "value": "PosY"
                  },
                  "parameters": [
                    "Traps",
                    "=",
                    "Variable(y) * Variable(tileSize)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "TrapInteracted",
                    "False"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Bear Traps",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "Traps",
                        "Type",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "BearTraps",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetSceneVariableAsBoolean"
                      },
                      "parameters": [
                        "TrapInteracted",
                        "True"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Arrow Traps",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "Traps",
                        "Type",
                        "=",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Traps",
                        "Fired",
                        "False"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "HUDTraps",
                        "ArrowTraps",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetSceneVariableAsBoolean"
                      },
                      "parameters": [
                        "TrapInteracted",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "TrapDetectionLines",
                        "Lines[ArrowTrap.Variable(LineIndex)].Enable",
                        "False"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Delete Trap, Trigger TBS",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SceneVariableAsBoolean"
                      },
                      "parameters": [
                        "TrapInteracted",
                        "True"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Delete"
                      },
                      "parameters": [
                        "Traps",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].trap",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "Map[Variable(x)][Variable(y)].trapRef",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Link",
                      "include": {
                        "includeConfig": 0
                      },
                      "target": "Player Trigger TBS"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "VarObjet"
          },
          "parameters": [
            "HUDTraps",
            "Current",
            "=",
            "0"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "TextObject::String"
          },
          "parameters": [
            "TrapsCountHUD",
            "=",
            "HUDTraps.VariableString(BearTraps)"
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "HUDTraps",
                "BearTraps",
                "=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "TileHighlight"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "HUDTraps",
                "BearTraps",
                "!=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "TileHighlight",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "VarObjet"
          },
          "parameters": [
            "HUDTraps",
            "Current",
            "=",
            "1"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "TextObject::String"
          },
          "parameters": [
            "TrapsCountHUD",
            "=",
            "HUDTraps.VariableString(ArrowTraps)"
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "HUDTraps",
                "ArrowTraps",
                "=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "TileHighlight"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "HUDTraps",
                "ArrowTraps",
                "!=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "TileHighlight",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "SceneVariableAsBoolean"
          },
          "parameters": [
            "PlayerDead",
            "True"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "TileHighlight"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Intro",
      "comment2": ""
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        },
        {
          "type": {
            "value": "VarGlobal"
          },
          "parameters": [
            "Level",
            "!=",
            "13"
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "Tween::AddObjectPositionYTween"
              },
              "parameters": [
                "TrapUIIndicator",
                "Tween",
                "\"Move\"",
                "250",
                "\"easeInOutQuad\"",
                "1000",
                ""
              ]
            },
            {
              "type": {
                "value": "Tween::AddObjectPositionYTween"
              },
              "parameters": [
                "TrapAmountUIIndicator",
                "Tween",
                "\"Move\"",
                "300",
                "\"easeInOutQuad\"",
                "1000",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "TrapAmountUIIndicator",
                "IsBearTrap",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TextObject::String"
              },
              "parameters": [
                "TrapAmountUIIndicator",
                "=",
                "\"x\" + ToString(HUDTraps.Variable(BearTraps))"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "HUDTraps",
                    "BearTraps",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "TrapUIIndicator",
                    "IsBearTrap",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "TrapUIIndicator"
                  ]
                },
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "TrapAmountUIIndicator"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "TrapAmountUIIndicator",
                "IsBearTrap",
                "False"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TextObject::String"
              },
              "parameters": [
                "TrapAmountUIIndicator",
                "=",
                "\"x\" + ToString(HUDTraps.Variable(ArrowTraps))"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "HUDTraps",
                    "ArrowTraps",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "TrapUIIndicator",
                    "IsBearTrap",
                    "False"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "TrapUIIndicator"
                  ]
                },
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "TrapAmountUIIndicator"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "HUDTraps",
                "BearTraps",
                "=",
                "0"
              ]
            },
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "HUDTraps",
                "ArrowTraps",
                "=",
                "0"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "TrapAmountUIIndicator",
                    "IsBearTrap",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Montre"
                  },
                  "parameters": [
                    "TrapAmountUIIndicator",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "TextObject::String"
                  },
                  "parameters": [
                    "TrapAmountUIIndicator",
                    "=",
                    "\"0 Traps\""
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "VarScene"
          },
          "parameters": [
            "TimeElapsed",
            ">",
            "2"
          ]
        },
        {
          "type": {
            "value": "VarGlobal"
          },
          "parameters": [
            "Level",
            "!=",
            "13"
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "Tween::AddObjectPositionTween"
              },
              "parameters": [
                "TrapUIIndicator",
                "Tween",
                "\"Move\"",
                "720",
                "450",
                "\"easeInOutQuad\"",
                "1000",
                ""
              ]
            },
            {
              "type": {
                "value": "Tween::AddObjectPositionTween"
              },
              "parameters": [
                "TrapAmountUIIndicator",
                "Tween",
                "\"Move\"",
                "720",
                "450",
                "\"easeInOutQuad\"",
                "1000",
                ""
              ]
            },
            {
              "type": {
                "value": "Tween::AddObjectScaleTween"
              },
              "parameters": [
                "TrapUIIndicator",
                "Tween",
                "\"Scale\"",
                "0",
                "0",
                "\"easeInOutQuad\"",
                "1000",
                "",
                "yes"
              ]
            },
            {
              "type": {
                "value": "Tween::AddObjectScaleTween"
              },
              "parameters": [
                "TrapAmountUIIndicator",
                "Tween",
                "\"Scale\"",
                "0",
                "0",
                "\"easeInOutQuad\"",
                "1000",
                "",
                "yes"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "VarGlobal"
          },
          "parameters": [
            "Level",
            "=",
            "13"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "TurnHUD"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "Buttons"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "TrapHUDBackground"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "HUDTraps"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "TrapTexts"
          ]
        }
      ]
    }
  ]
}